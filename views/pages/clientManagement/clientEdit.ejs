<section class="client-card">
    <h2 class="mb-4">Klant bewerken</h2>

    <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
        <div class="alert alert-danger">
            <ul>
                <% errors.forEach(function(error) { %>
                    <li><%= error %></li>
                <% }); %>
            </ul>
        </div>
    <% } %>

    <form id="edit-client-form" action="/clientManagement/<%= data.client.customer_id %>/update" method="POST" novalidate>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="first_name" class="form-label">Voornaam *</label>
                <input type="text" class="form-control input-field-focus" id="first_name" name="first_name" required value="<%= data.client.first_name %>">
                <div class="invalid-feedback">Voornaam is verplicht.</div>
            </div>
            <div class="col-md-6">
                <label for="last_name" class="form-label">Achternaam *</label>
                <input type="text" class="form-control" id="last_name" name="last_name" required value="<%= data.client.last_name %>">
                <div class="invalid-feedback">Achternaam is verplicht.</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email *</label>
            <input type="email" class="form-control input-field-focus" id="email" name="email" required value="<%= data.client.email %>">
            <div class="invalid-feedback">Vul een geldig emailadres in.</div>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Adres *</label>
            <input type="text" class="form-control input-field-focus" id="address" name="address" required value="<%= data.client.address %>">
            <div class="invalid-feedback">Adres is verplicht.</div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="city" class="form-label">Stad *</label>
                <input type="text" class="form-control input-field-focus" id="city" name="city" required value="<%= data.client.city %>">
                <div class="invalid-feedback">Stad is verplicht.</div>
            </div>
            <div class="col-md-6">
                <label for="district" class="form-label">District *</label>
                <input type="text" class="form-control input-field-focus" id="district" name="district" required value="<%= data.client.district %>">
                <div class="invalid-feedback">District is verplicht.</div>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="country" class="form-label">Land *</label>
                <input type="text" class="form-control input-field-focus" id="country" name="country" required value="<%= data.client.country %>">
                <div class="invalid-feedback">Land is verplicht.</div>
            </div>
            <div class="col-md-6">
                <label for="postal_code" class="form-label">Postcode</label>
                <input type="text" class="form-control input-field-focus" id="postal_code" name="postal_code" value="<%= data.client.postal_code || '' %>">
            </div>
        </div>
        <div class="mb-3">
            <label for="phone" class="form-label">Telefoonnummer *</label>
            <input type="tel" class="form-control input-field-focus" id="phone" name="phone" required pattern="^(\+?\d{1,3}[- ]?)?\d{10}$" value="<%= data.client.phone %>">
            <div class="invalid-feedback">Vul een geldig telefoonnummer in (10 cijfers, optioneel landcode).</div>
        </div>
        <button type="submit" class="btn btn-primary">Opslaan</button>
    </form>
</section>

<script>
// Bootstrap client-side validation
document.getElementById('edit-client-form').addEventListener('submit', function(event) {
    const form = event.target;
    if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
    }
    form.classList.add('was-validated');
});
</script>