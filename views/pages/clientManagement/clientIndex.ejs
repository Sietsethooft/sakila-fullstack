<section class="client-card">

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    window.clientSuccess = '<%= success ? success : '' %>';
    </script>
  <script src="/javascripts/clientScripts/clientIndex.js"></script>
  <script src="/javascripts/clientScripts/clientAlerts.js"></script>


  <h2 class="h2-head">Client-management</h2>
  <div class="d-flex justify-content-between align-items-center mb-3">
    <form class="d-flex" method="GET" action="">
      <div class="input-group">
        <input type="search" class="form-control searchbar"
              id="datatable-search-input"
              name="search"
              placeholder="Client name"
              style="min-width: 300px;">
        <button class="btn btn-search" type="submit">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85zm-5.242 1.398a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z"/>
          </svg>
        </button>
      </div>
    </form>
        <button class="btn btn-primary" type="button" id="add-client-btn">
      <i class="fas fa-user-plus me-2"></i> Create client
    </button>
  </div>
  <div class="table-responsive">
    <table class="table table-bordered client-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>E-mail</th>
          <th>Active</th>
          <th>Updated</th>
        </tr>
      </thead>
      <tbody>
        <% if (clients && clients.length > 0) { %>
          <% clients.forEach(function(client) { %>
            <tr class="client-row" data-id="<%= client.customer_id %>">
              <td><%= client.name %></td>
              <td><%= client.email %></td>
              <td><%= client.active %></td>
              <td><%= client.last_update %></td>
            </tr>
          <% }); %>
        <% } else { %>
          <tr>
            <td colspan="4" class="text-center">No clients found.</td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</section>